* 逃离心里舒适区
* Schedule

** Schedule For Job

*** 2017/1
**** DONE <2017-01-03 周二> [50%]
	 CLOSED: [2017-01-09 周一 09:55]
	 - State "DONE"       from "TODO"       [2017-01-09 周一 09:55]
***** DONE 心法UI换肤工作收尾
	  CLOSED: [2017-01-03 周二 17:50]
	  - State "DONE"       from "TODO"       [2017-01-03 周二 17:50]
***** TODO 龙魂养成
**** TODO <2017-01-09 周一> [0%]
***** TODO 龙魂养成
***** TODO 伏羲玄天盘
**** TODO 新增标记，若将目标参与计算，则目标脱离攻击范围后会计算伤害，不会附加buff
**** TODO 结婚巡游bug修复
**** TODO 龙盘功能扩展 [4/8]
	 + [X] 伏羲玄天盘功能开发
	 + [X] 元素龙魂养成功能开发
	 + [X] 阴阳养成功能开发
	 + [X] 阴阳移位功能开发
	 + [ ] 元素龙魂养成界面开发
	 + [ ] 伏羲玄天盘界面开发
	 + [ ] 阴阳养成界面开发
	 + [ ] 阴阳移位界面开发
**** TODO 结婚巡游bug修复：在非巡游时间去发起巡游，虽然没有发起成功，但是道具“巡游令”扣除了，导致玩家完成不了相应的结婚成就
**** TODO 微端优化计划 [0%]
***** TODO [#A] 空闲下载列表需依据主线任务作排序(如，在新手村的玩家如果有剩余带宽需下载下一张地图的资源)
***** TODO [#B] 可识别美术定义的场景资源优先级，并适当放弃低优先级物件的请求
***** TODO zip散文件是否可合入mpk包？
***** TODO 将登录器资源更新逻辑融入微端代理进程，为预更新或剩余资源下载铺路
***** TODO 内测/压测资源合并
*** 2017/3
**** DONE <2017-02-27 周一> [100%]
	 CLOSED: [2017-03-06 周一 11:15]
	 - State "DONE"       from "TODO"       [2017-03-06 周一 11:15]
***** DONE 整合Log到proxyd应用中
	  CLOSED: [2017-03-02 周四 08:42]
	  - State "DONE"       from "TODO"       [2017-03-02 周四 08:42]
***** DONE 为proxyd增加配置功能
	  CLOSED: [2017-03-02 周四 08:42]
	  - State "DONE"       from "TODO"       [2017-03-02 周四 08:42]
***** DONE BugReport支持
	  CLOSED: [2017-03-03 周五 08:40]
	  - State "DONE"       from "TODO"       [2017-03-03 周五 08:40]
***** DONE proxyd命令行参数解析
	  CLOSED: [2017-03-03 周五 08:39]
	  - State "DONE"       from "TODO"       [2017-03-03 周五 08:39]
***** DONE 单实例运行
	  CLOSED: [2017-03-03 周五 08:39]
	  - State "DONE"       from "TODO"       [2017-03-03 周五 08:39]
***** DONE 熟悉proxyd
	  CLOSED: [2017-03-06 周一 11:14]
	  - State "DONE"       from "TODO"       [2017-03-06 周一 11:14]
**** DONE <2017-03-06 周一> [15%]
	 CLOSED: [2017-03-14 周二 14:00]
	 - State "DONE"       from "TODO"       [2017-03-14 周二 14:00]
***** DONE BUG: 守护进程模式下proxyd不能正常启动
	  CLOSED: [2017-03-08 周三 08:42]
	  - State "DONE"       from "TODO"       [2017-03-08 周三 08:42]
***** DONE proxyutil(反向代理工具)命令添加。需支持的命令至少包括：
	  CLOSED: [2017-03-10 周五 12:47]
	  - State "DONE"       from "TODO"       [2017-03-10 周五 12:47]
	  1. [X] 日志级别控制
	  2. [X] 根据vpn地址查询和控制反向连接信息
**** DONE <2017-03-14 周二> [100%]
	 CLOSED: [2017-03-20 周一 09:26]
	 - State "DONE"       from "TODO"       [2017-03-20 周一 09:26]
***** DONE MDM IOS APP安装命令推送
	  CLOSED: [2017-03-20 周一 09:26]
	  - State "DONE"       from "TODO"       [2017-03-20 周一 09:26]
***** DONE MDM IOS APP卸载命令推送
	  CLOSED: [2017-03-20 周一 09:26]
	  - State "DONE"       from "TODO"       [2017-03-20 周一 09:26]
**** DONE <2017-03-23 周四> [100%]
	 CLOSED: [2017-03-28 周二 17:08]
	 - State "DONE"       from "TODO"       [2017-03-28 周二 17:08]
***** DONE MDM相关BUG查找及修复 [5/6]
	  CLOSED: [2017-03-28 周二 17:08]
	  - State "DONE"       from "TODO"       [2017-03-28 周二 17:08]
	  + [X] 【aWork】aWork上注册信息与实际不相符 [rejected]
	  + [X] 【ios-awork】最近连接服务器信息显示错误---songnj20170321 [fixed]
	  + [X]  mdm注册替换VPN，无法注册上。MDM删除设备，手机上MDM描述文件未删除 [fixed]
	  + [X] 【ios-awork】策略下发不成功--非必现 [rejected]
	  + [X] 【ios-awork】禁用icloud服务不生效 [rejected]
	  + [ ]  在应用商店安装应用时第一次提示无法连接，第二次正常(必现)
***** DONE ios aWORK下载支持 [por/ios.csp页面下发；编写shell脚本写sqlite数据库并拷贝安装包到应用商店目录]
	  CLOSED: [2017-03-24 周五 08:39]
	  - State "DONE"       from "TODO"       [2017-03-24 周五 08:39]
**** DONE <2017-03-29 周三> [100%]
	 CLOSED: [2017-04-05 周三 09:03]
	 - State "DONE"       from "TODO"       [2017-04-05 周三 09:03]
***** DONE MDM相关BUG查找及修复 [1/1]
	  CLOSED: [2017-04-05 周三 09:03]
	  - State "DONE"       from "TODO"       [2017-04-05 周三 09:03]
	  + [X] 非443端口状态下，应用商店如果配置了端口信息会导致应用商店不可访问
**** TODO tsmanager代码阅读[必须产出文档]
**** TODO proxyd的服务脚本
**** TODO node.js脚本安装为服务
**** TODO node.js脚本日志支持
**** TODO node.js脚本异常处理(try catch)
**** TODO node.js脚本定时器C进程的清理 否则会产生很多无效进程
**** TODO tcp服务针对反向代理程序的session支持(通过算法保证session安全)
**** TODO mdmutil 命令添加：对接反向代理的node.js程序，用于取token
**** TODO 反向代理的node.js程序的日志支持
**** TODO 反向代理内存泄漏查找
**** TODO 反向代理：需要在安装脚本中处理防火墙关闭端口的情况

*** 2017/4
**** DONE <2017-04-05 周三> [0%]
	 CLOSED: [2017-04-17 周一 08:38]
	 - State "DONE"       from "TODO"       [2017-04-17 周一 08:38]
***** TODO Web服务根据通配符规则重写内部链接 [1/1]
	  + [X] 通配符匹配
**** DONE <2017-04-10 周一> [100%]
	 CLOSED: [2017-04-17 周一 08:39]
	 - State "DONE"       from "TODO"       [2017-04-17 周一 08:39]
***** DONE Web资源改进实现设计
	  CLOSED: [2017-04-17 周一 08:39]
	  - State "DONE"       from "TODO"       [2017-04-17 周一 08:39]
***** DONE Web资源改进：实现基于正则表达式的页面链接替换
	  CLOSED: [2017-04-17 周一 08:39]
	  - State "DONE"       from "TODO"       [2017-04-17 周一 08:39]
**** DONE <2017-04-17 周一> [100%]
	 CLOSED: [2017-04-24 周一 14:36]
	 - State "DONE"       from "TODO"       [2017-04-24 周一 14:36]
***** DONE Web资源改进：点击替换后的链接能正常通过VPN访问内网资源
	  CLOSED: [2017-04-24 周一 14:36]
	  - State "DONE"       from "TODO"       [2017-04-24 周一 14:36]
***** DONE Web资源改进：点击替换后的链接可以在VPN鉴权通过
	  CLOSED: [2017-04-24 周一 14:36]
	  - State "DONE"       from "TODO"       [2017-04-24 周一 14:36]
**** DONE <2017-04-24 周一> [100%]
	 CLOSED: [2017-05-02 周二 09:24]
	 - State "DONE"       from "TODO"       [2017-05-02 周二 09:24]
***** DONE web资源改进BUG跟进
	  CLOSED: [2017-05-02 周二 09:24]
	  - State "DONE"       from "TODO"       [2017-05-02 周二 09:24]
***** DONE web资源改进代码评审问题修改
	  CLOSED: [2017-05-02 周二 09:24]
	  - State "DONE"       from "TODO"       [2017-05-02 周二 09:24]
***** DONE web资源改进cookie管理
	  CLOSED: [2017-05-02 周二 09:25]
	  - State "DONE"       from "TODO"       [2017-05-02 周二 09:25]
*** 2017/5
**** DONE <2017-05-02 周二> [62%]
	 CLOSED: [2017-05-08 周一 08:55]
	 - State "DONE"       from "TODO"       [2017-05-08 周一 08:55]
***** DONE Web资源改进代码走读问题修改
	  CLOSED: [2017-05-04 周四 14:04]
	  - State "DONE"       from "TODO"       [2017-05-04 周四 14:04]
***** DONE Web资源改进设计图修正
	  CLOSED: [2017-05-04 周四 16:38]
	  - State "DONE"       from "TODO"       [2017-05-04 周四 16:38]
***** DONE 编写Web服务模块答辩文档
	  CLOSED: [2017-05-08 周一 08:53]
	  - State "DONE"       from "TODO"       [2017-05-08 周一 08:53]
***** DONE 替换 document.domain='tt.com' 形式的字符串 [在mod_regex里面完成此项工作]
	  CLOSED: [2017-05-08 周一 08:54]
	  - State "DONE"       from "TODO"       [2017-05-08 周一 08:54]
***** DONE regex模块重写
	  CLOSED: [2017-05-08 周一 08:54]
	  - State "DONE"       from "TODO"       [2017-05-08 周一 08:54]
**** DONE <2017-05-08 周一> [100%]
	 CLOSED: [2017-05-15 周一 10:02]
	 - State "DONE"       from "TODO"       [2017-05-15 周一 10:02]
***** DONE Web资源改进BUG修复
	  CLOSED: [2017-05-15 周一 09:20]
	  - State "DONE"       from "TODO"       [2017-05-15 周一 09:20]
***** DONE Web资源站点分析
	  CLOSED: [2017-05-15 周一 09:20]
	  - State "DONE"       from "TODO"       [2017-05-15 周一 09:20]
***** DONE Web资源改进代码扫描问题修改
	  CLOSED: [2017-05-15 周一 09:57]
	  - State "DONE"       from "TODO"       [2017-05-15 周一 09:57]
***** DONE text/plain 的页面需要替换
	  CLOSED: [2017-05-15 周一 10:02]
	  - State "DONE"       from "TODO"       [2017-05-15 周一 10:02]
***** DONE Web资源改进定制包升级脚本限制必须从M7.5Beta3升级
	  CLOSED: [2017-05-08 周一 17:32]
	  - State "DONE"       from "TODO"       [2017-05-08 周一 17:32]
**** DONE <2017-05-15 周一> [100%]
	 CLOSED: [2017-05-22 周一 10:18]
	 - State "DONE"       from "TODO"       [2017-05-22 周一 10:18]
***** DONE Web资源改进：新老形式的Cookie混用时会影响登录
	  CLOSED: [2017-05-15 周一 15:15]
	  - State "DONE"       from "TODO"       [2017-05-15 周一 15:15]
***** DONE Web资源改进合入M7.6
	  CLOSED: [2017-05-16 周二 19:40]
	  - State "DONE"       from "TODO"       [2017-05-16 周二 19:40]
***** DONE 微信企业号巴奴技术支持
	  CLOSED: [2017-05-22 周一 10:06]
	  - State "DONE"       from "TODO"       [2017-05-22 周一 10:06]

结论：
我们目前仅支持主页型应用，在主页型应用模式下，
通过Easylink资源接入的系统不需要(也不允许)再调用微信的身份验证接口，
而只能使用VPN通过URL参数(可以自己配，默认配的是login=user_id)传递过来的身份信息。

***** DONE 微信企业号航天科技神软移动办公技术支持
	  CLOSED: [2017-05-22 周一 10:06]
	  - State "DONE"       from "TODO"       [2017-05-22 周一 10:06]

结论：
前线实施人员不熟悉实施步骤，在技术支持过程中遇到的大部分问题都属于实施人员对实施步骤不熟悉所致。
这些问题包括：

  1. 手机微信端打开企业号应用显示空白。因为未申请授权证书
  2. VPN未配置企业号corpid和secret
  3. 使用Web资源而非Easylink资源导致在打开微信企业号应用之后，很多页面访问不正常

在跟渠道方实施人员沟通的过程中，发现他没有实施文档，而在定制包中实际是有文档打包在里面的。

**** DONE <2017-05-22 周一> [60%]
	 CLOSED: [2017-05-27 周六 17:52]
	 - State "DONE"       from "TODO"       [2017-05-27 周六 17:52]
***** DONE Web资源支持黑名单
	  CLOSED: [2017-05-27 周六 17:52]
	  - State "DONE"       from "TODO"       [2017-05-27 周六 17:52]
***** DONE 转正
	  CLOSED: [2017-05-27 周六 17:52]
	  - State "DONE"       from "TODO"       [2017-05-27 周六 17:52]
***** DONE 深圳证券所相关的定制：集群下真实服务器不启用用户配置的路由
	  CLOSED: [2017-05-25 周四 16:34]
	  - State "DONE"       from "TODO"       [2017-05-25 周四 16:34]
*** 2017/6
**** DONE <2017-06-04 周日> [100%]
	 CLOSED: [2017-06-04 周日 11:18]
	 - State "DONE"       from "TODO"       [2017-06-04 周日 11:18]
***** DONE Web性能分析工具编写 [周三-周四]
	  CLOSED: [2017-06-04 周日 11:08]
	  - State "DONE"       from "TODO"       [2017-06-04 周日 11:08]
***** DONE 技术支持：点融Web资源相关 [周四下午-周五上午]
	  CLOSED: [2017-06-04 周日 11:17]
	  - State "DONE"       from "TODO"       [2017-06-04 周日 11:17]
结论：
1. 有a和b两个Web资源，用户只关联a却能访问b。这是因为配置失误，用户所属组实际关联了Web全网资源
2. Web全网资源处于禁用状态，不应生效，而实际却生效，这是程序BUG
3. mod_regex替换模块导致了点开页内链接时需要等待很长时间，这是因为mod_regex存在BUG。将M7.6最新的mod_regex代码移植到M7.3R3环境下
***** DONE 技术支持：海淀区政府微信企业号升级为企业微信后身份验证失败 [周六下午-周日上午]
	  CLOSED: [2017-06-04 周日 11:10]
	  - State "DONE"       from "TODO"       [2017-06-04 周日 11:10]
**** DONE <2017-06-05 周一> [100%]
	 CLOSED: [2017-06-12 周一 08:46]
	 - State "DONE"       from "TODO"       [2017-06-12 周一 08:46]
***** DONE 技术支持: 点融 [周一上午]
	  CLOSED: [2017-06-12 周一 08:34]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:34]
***** DONE 技术支持: 海淀区政府有生博大(微信企业号升级为企业微信后无法认证) [周二下午]
	  CLOSED: [2017-06-12 周一 08:36]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:36]
***** DONE 使用vpn上配置的域名(或其子域)登录时Cookie混乱 [周三]
	  CLOSED: [2017-06-12 周一 08:38]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:38]
***** DONE WebVpn技术支持: 中央名族大学 [周四]
	  CLOSED: [2017-06-12 周一 08:41]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:41]
结论：
1. [X] 某些子链接因为ajax过滤未进行替换
2. [X] 无法用域名登录vpn
3. [ ] 超星星系统因主页与登录页之间的循环跳转导致无法正常显示
4. [ ] 资产管理系统经常性无法打开(返回503)
***** DONE 访问Web资源时，如果用户已退出需跳转到登录页 [周五]
	  CLOSED: [2017-06-12 周一 08:33]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:33]
***** DONE 技术支持: 台企Web资源(easylink端口映射)中的iframe无法显示 [周六]
	  CLOSED: [2017-06-12 周一 08:46]
	  - State "DONE"       from "TODO"       [2017-06-12 周一 08:46]
结论：
1. [X] iframe下的链接未被替换: 通过mod_regex解决
2. [X] iframe下嵌入未受信的https页面无法显示: 通过vpn签发受信证书暂时解决
3. [ ] 通过上述步骤后iframe中的SAP页面仍然没办法显示: 客户不肯给账号，导致调试麻烦
**** DONE <2017-06-12 周一> [100%]
	 CLOSED: [2017-06-19 周一 09:13]
	 - State "DONE"       from "TODO"       [2017-06-19 周一 09:13]
***** DONE 微信企业号消息型应用的定制 [周一~周三]
	  CLOSED: [2017-06-16 周五 17:09]
	  - State "DONE"       from "TODO"       [2017-06-16 周五 17:09]
***** DONE 巴奴联调(消息型应用的定制) [周四]
	  CLOSED: [2017-06-16 周五 17:20]
	  - State "DONE"       from "TODO"       [2017-06-16 周五 17:20]
***** DONE WebVpn技术支持 [周四晚~周五上午]
	  CLOSED: [2017-06-16 周五 17:18]
	  - State "DONE"       from "TODO"       [2017-06-16 周五 17:18]
现象以及结论：
  1. "I民工系统页面上的个人文档等链接点不开" 原因：X-Frame-Origin标记所致
  2. "I民工系统503错误" 原因：初步判断是apache反代的时候，ca.muc.edu.cn无法被解析，但用wget却可以顺利请求到页面，所以暂时还不知道确切原因 规避方式：将ca.muc.edu.cn配置到hosts文件去
***** DONE Web资源访问失败时跳转到登录页，登录页的地址使用在VPN控制台配置的域名 [周五下午]
	  CLOSED: [2017-06-16 周五 17:19]
	  - State "DONE"       from "TODO"       [2017-06-16 周五 17:19]
***** DONE 定制：厦门航空动态密码验证 [周六]
	  CLOSED: [2017-06-19 周一 09:13]
	  - State "DONE"       from "TODO"       [2017-06-19 周一 09:13]
**** DONE <2017-06-19 周一> [100%]
	 CLOSED: [2017-06-26 周一 17:57]
	 - State "DONE"       from "TODO"       [2017-06-26 周一 17:57]
***** DONE Web资源改进合入M7.5 [周二上午]
	  CLOSED: [2017-06-20 周二 14:41]
	  - State "DONE"       from "TODO"       [2017-06-20 周二 14:41]
***** DONE Web资源改进的相关BUG跟进及修复 [周二下午] [4/4]
	  CLOSED: [2017-06-23 周五 17:42]
	  - State "DONE"       from "TODO"       [2017-06-23 周五 17:42]

+ [X] URL长度限制为255
+ [X] 代码走读问题修改
+ [X] Web资源鉴权时未检查禁用标记
+ [X] 按处理Referer的方式处理Origin头
***** DONE Web服务模块代码重构 [周三]
	  CLOSED: [2017-06-23 周五 17:49]
	  - State "DONE"       from "TODO"       [2017-06-23 周五 17:49]

***** DONE Web资源改进代码扫描问题修复 [周三]
	  CLOSED: [2017-06-23 周五 17:49]
	  - State "DONE"       from "TODO"       [2017-06-23 周五 17:49]
***** DONE 微信认证技术支持：航天科技集团神软移动办公 [周三中午]
	  CLOSED: [2017-06-23 周五 17:49]
	  - State "DONE"       from "TODO"       [2017-06-23 周五 17:49]

1. 苹果手机页面上的按钮无响应？

   客户的Web系统以http的方式引用了第三方js代码。让客户改用https，问题就解决了。
***** DONE 定制：江西水利厅统一认证平台认证 [周四 ~ 周五]
	  CLOSED: [2017-06-23 周五 17:50]
	  - State "DONE"       from "TODO"       [2017-06-23 周五 17:50]

周四至周五上午完成编码，周五下午与客户联调

***** DONE 定制：厦门航空动态密码验证（需求更改，加入ESBHeader） [周六]
	  CLOSED: [2017-06-26 周一 17:57]
	  - State "DONE"       from "TODO"       [2017-06-26 周一 17:57]
**** DONE <2017-06-26 周一> [100%]
	 CLOSED: [2017-07-03 周一 09:15]
	 - State "DONE"       from "TODO"       [2017-07-03 周一 09:15]
***** DONE 定制联调：厦门航空动态密码验证 [周一]
	 CLOSED: [2017-07-01 周六 10:09]
	 - State "DONE"       from "TODO"       [2017-07-01 周六 10:09]
***** DONE PEAP身份验证协议预研 [周二至周六]
	  CLOSED: [2017-07-03 周一 09:14]
	  - State "DONE"       from "PROCESSING" [2017-07-03 周一 09:14]
	  - State "PROCESSING" from "TODO"       [2017-07-01 周六 10:10]
***** DONE 定制技术支持：广西公安厅证书认证失败 [周三上午]
	  CLOSED: [2017-07-01 周六 10:09]
	  - State "DONE"       from "TODO"       [2017-07-01 周六 10:09]
***** DONE 定制技术支持：宝安信息中心进行短信认证时无法绑定多个手机号
	  CLOSED: [2017-07-01 周六 10:09]
	  - State "DONE"       from "TODO"       [2017-07-01 周六 10:09]
*** 2017/7
**** DONE <2017-07-03 周一> [100%]
	 CLOSED: [2017-07-10 周一 09:10]
	 - State "DONE"       from "TODO"       [2017-07-10 周一 09:10]
***** DONE Webfs技术支持 [周一至周三]
	  CLOSED: [2017-07-05 周三 16:16]
	  - State "DONE"       from "TODO"       [2017-07-05 周三 16:16]
结论：远程存储服务器配置的账号(administrator)改成域账号就没问题了，具体原因待查
***** DONE Web资源BUG修复 [3/5]
	  CLOSED: [2017-07-10 周一 09:10]
	  - State "DONE"       from "TODO"       [2017-07-10 周一 09:10]
+ [X] 页面URL自动转换不包含VPN域名，需在后台把域名加上去 [周二]
+ [X] 浏览器Cookie失效后访问Web资源时不会跳到登录页 [周二]
+ [X] 独秀和超星发现系统访问不了 [结论：Set-Cookie改写问题] [周四上午]
***** DONE 技术支持：L2TP/PPTP 使用AD域单点认证有问题 [周四下午至周五] [无法使用原先提供的方案，得继续通过规避方法解决（规避方式也不靠谱）]
	  CLOSED: [2017-07-10 周一 09:21]
	  - State "DONE"       from "TODO"       [2017-07-10 周一 09:21]
***** DONE 技术支持：使用非默认端口导致钉钉无法打开Web资源 [周六] [周六查了一下午，发现是历史遗留问题，得改动apache中的代码才能修复]
	  CLOSED: [2017-07-10 周一 09:21]
	  - State "DONE"       from "TODO"       [2017-07-10 周一 09:21]
***** DONE //形式的URL需要自适应当前页面的协议，而当前都被错误当做了http形式的
	  CLOSED: [2017-07-13 周四 08:44]
	  - State "DONE"       from "TODO"       [2017-07-13 周四 08:44]
***** DONE 需检查Web资源鉴权时资源的禁用标记
	  CLOSED: [2017-07-13 周四 08:45]
	  - State "DONE"       from "TODO"       [2017-07-13 周四 08:45]
***** DONE 无Content-Type 的页面需要替换
	  CLOSED: [2017-07-13 周四 08:45]
	  - State "DONE"       from "TODO"       [2017-07-13 周四 08:45]
**** DONE <2017-07-10 周一> [100%]
	 CLOSED: [2017-07-22 周六 10:09]
	 - State "DONE"       from "TODO"       [2017-07-22 周六 10:09]
***** DONE 技术支持：通过L2TP和PPTP方式接入VPN时，因域单点认证问题而导致LDAP认证失败 [周一至周六]
	  CLOSED: [2017-07-22 周六 10:09]
	  - State "DONE"       from "TODO"       [2017-07-22 周六 10:09]
***** DONE Linux/Mac EC客户端升级配置下发
	  CLOSED: [2017-07-15 周六 17:16]
	  - State "DONE"       from "TODO"       [2017-07-15 周六 17:16]
***** DONE 技术支持：使用非默认端口导致钉钉无法打开Web资源 [周三上午]
	  CLOSED: [2017-07-13 周四 08:43]
	  - State "DONE"       from "TODO"       [2017-07-13 周四 08:43]
**** DONE <2017-07-17 周一> [100%]
	 CLOSED: [2017-07-24 周一 10:37]
	 - State "DONE"       from "TODO"       [2017-07-24 周一 10:37]
***** DONE Web资源Bug修复 [7/7]
	  CLOSED: [2017-07-24 周一 10:37]
	  - State "DONE"       from "TODO"       [2017-07-24 周一 10:37]
+ [X] 不可访问的Web资源重定向到登录页登录后直接显示资源列表即可
+ [X] Web资源进行域名解析时会使用内网域名解析中配置的域名服务器
+ [X] http+域名+非默认端口访问VPN时有问题
+ [X] 使用非默认端口时Easylink域名映射有问题
+ [X] 带php后缀的Easylink资源无法访问
+ [X] 统一BS和CS场景下下发的TWFID
+ [X] 预检请求处理错误(OPTIONS)
***** DONE Web资源基于正则表达式的替换逻辑合入到M7.1
	  CLOSED: [2017-07-22 周六 10:10]
	  - State "DONE"       from "TODO"       [2017-07-22 周六 10:10]
**** DONE <2017-07-24 周一> [100%]
	 CLOSED: [2017-07-31 周一 10:00]
	 - State "DONE"       from "TODO"       [2017-07-31 周一 10:00]
***** DONE 审计日志设计与实现
	  CLOSED: [2017-07-31 周一 10:00]
	  - State "DONE"       from "TODO"       [2017-07-31 周一 10:00]
***** DONE 腾讯云客户支持问题跟进
	  CLOSED: [2017-07-31 周一 10:00]
	  - State "DONE"       from "TODO"       [2017-07-31 周一 10:00]
*** 2017/8
**** DONE <2017-07-31 周一> [100%]
	 CLOSED: [2017-08-07 周一 14:09]
	 - State "DONE"       from "TODO"       [2017-08-07 周一 14:09]
***** DONE 审计日志联调，磁盘满时产生标记文件
	  CLOSED: [2017-08-07 周一 13:55]
	  - State "DONE"       from "TODO"       [2017-08-07 周一 13:55]
***** DONE BUG修复 [6/6]
	  CLOSED: [2017-08-07 周一 14:09]
	  - State "DONE"       from "TODO"       [2017-08-07 周一 14:09]
	  + [X] 系统日志不符合规范
	  + [X] Web/Tcp资源组启用负载均衡后不生效
	  + [X] Windows上负载均衡按钮不生效
	  + [X] dmesg信息中存在warn日志--7.5转
	  + [X] [远程应用]新增远程应用终端服务器一直处于脱机状态
	  + [X] 【其他】用户为参观者角色显示成普通管理员角色
***** DONE Web资源性能分析 [预计周三才有思博伦]
	  CLOSED: [2017-08-07 周一 14:09]
	  - State "DONE"       from "TODO"       [2017-08-07 周一 14:09]
**** DONE <2017-08-07 周一> [100%]
	 CLOSED: [2017-08-14 周一 09:43]
	 - State "DONE"       from "TODO"       [2017-08-14 周一 09:43]
***** DONE 配合测试完成审计日志测试
	  CLOSED: [2017-08-14 周一 09:03]
	  - State "DONE"       from "TODO"       [2017-08-14 周一 09:03]
***** DONE 清除TD上的BUG [8/8]
	  CLOSED: [2017-08-14 周一 09:43]
	  - State "DONE"       from "TODO"       [2017-08-14 周一 09:43]
	  + [X] BUG修复: 【远程应用】接入方式采用自创建账户方式，并启用同步，删除本地用户后服务器未同步删除用户
	  + [X] 组合认证进行到一半后新用户登录，在线用户为组合认证用
	  + [X] 【集群】集群实时同步很慢。不能在我这边的环境重现，看了下新建用户在集群中的同步代码，下次再重现能比较熟练的排查
	  + [X] 【Linux EC 跨平台】linux平台用户已被锁定 windows该用户可以登录。同样也没法在我的环境下重现，看了下相关代码，梳理了下排查方法
	  + [X] 【mac客户端】匿名用户登录后没有超时注销
	  + [X] 【中标EC】【MAC EC】控制台设置不显示WEB悬浮工具条时，客户端也显示
	  + [X] 授权数改小后，用户数显示异常
	  + [X] 限制url参数后，Web资源页在用户注销后重新登陆无法跳转回来
**** DONE <2017-08-14 周一> [50%]
	 CLOSED: [2017-08-23 周三 09:58]
	 - State "DONE"       from "TODO"       [2017-08-23 周三 09:58]
***** DONE 清楚TD上的所有BUG [5/6]
	  CLOSED: [2017-08-23 周三 09:58]
	  - State "DONE"       from "PROCESSING" [2017-08-23 周三 09:58]
	  - State "PROCESSING" from "TODO"       [2017-08-14 周一 09:49]
	  - [X] 【安全问题】图形校验码存在不更新漏洞
	  - [X] [审计日志]用户日志无法同步到外置数据中心
	  - [X] [技术支持]SSL VPN DDos进程异常，封锁了自己的MAC --【疑难】--可能需要其他部门协助 --截至日期8.04
	  - [X] Mac Safri浏览器打开控制台提示要提交证书，而实际没有开启证书认证
	  - [ ] 集群状态下苹果手机访问远程应用权限错误 --【低】
	  - [X] 当访问未授权的Web资源无法显示自定义的上传的提示页面
**** DONE <2017-08-23 周三> [100%]
	 CLOSED: [2017-08-28 周一 11:11]
	 - State "DONE"       from "TODO"       [2017-08-28 周一 11:11]
***** DONE BUG修复 [6/6]
	  CLOSED: [2017-08-28 周一 11:11]
	  - State "DONE"       from "TODO"       [2017-08-28 周一 11:11]
+ [X] [审计日志]用户登录/爆破信息中把客户端接入的物理IP地址也加上（类似注销） [没有问题]
+ [X] [审计日志]同时启用本地认证和硬件特征码认证时，日志跟操作不对应  [修复]
+ [X] 【中标EC】用户可以访问启用数据包解析的主从绑定信息资源  [Web资源没有问题，TCP和L3VPN资源是在客户端做的限制，转给张波排查了]
+ [X] [审计日志]程序在计算磁盘空间是否大于等于1G时，跟df -h读取的值不一致
+ [X] [审计日志]用户日志页面英文显示有问题
+ [X] 【Linux EC 服务器域名】输入服务器域名不能连接 --多线路 --【低】--liuyang配合
***** DONE Web资源白名单功能支持
	  CLOSED: [2017-08-23 周三 10:00]
	  - State "DONE"       from "TODO"       [2017-08-23 周三 10:00]
***** DONE 技术支持 [2/2]
	  CLOSED: [2017-08-24 周四 08:42]
	  - State "DONE"       from "TODO"       [2017-08-24 周四 08:42]
	  + [X] SNMP输出微调(TCL集团)
	  + [X] ldap用户导入不成功(怡亚通)
**** DONE <2017-08-28 周一> [50%]
	 CLOSED: [2017-09-04 周一 08:44]
	 - State "DONE"       from "TODO"       [2017-09-04 周一 08:44]
***** DONE BUG修复 [5/8]
	  CLOSED: [2017-09-04 周一 08:44]
	  - State "DONE"       from "TODO"       [2017-09-04 周一 08:44]
	  - [ ] 【WebConsole】在控制台命令页面输入命令一段时间后，控制台登录用户被注销
	  - [ ] [mac客户端]bs登录已登录的用户时，有时不会提示该用户已在其他地方登录
	  - [ ] 【稳定性】设备系统日志中告警
	  - [X] 【M7.6.0】单点登录提交证书主题不成功
	  - [X] 中文版证书登录出现英文提示
	  - [X] 集群下点击登录此设备偶现：页面无法提取Cookie，无法继续操作
	  - [X] 集群丢文件问题
	  - [X] [审计日志]偶现用户日志无法打到日志文件
*** 2017/9
**** TODO <2017-09-04 周一> [%]
***** DONE BUG修复 [4/7]
	  CLOSED: [2017-09-04 周一 08:44]
	  - State "DONE"       from "TODO"       [2017-09-04 周一 08:44]
+ [ ] 【WebConsole】在控制台命令页面输入命令一段时间后，控制台登录用户被注销
+ [ ] [mac客户端]bs登录已登录的用户时，有时不会提示该用户已在其他地方登录
+ [ ] 【稳定性】设备系统日志中告警
**** TODO 替换 http:\/\/xxx.xxx.xxx 形式的url
*** BUG TRACE

**** TODO 边境任务如果最后一轮是偷马任务，完成偷马后任务追踪里头偷马任务不消失。（偶尔）

** Schedule For Career

*** 2017/1
**** DONE <2017-01-03 周二> [50%]
	 CLOSED: [2017-01-09 周一 10:13]
	 - State "DONE"       from "TODO"       [2017-01-09 周一 10:13]
***** DONE 在我的外网vps下安装redmine
	  CLOSED: [2017-01-05 周四 14:53]
	  - State "DONE"       from "TODO"       [2017-01-05 周四 14:53]
**** TODO <2017-01-09 周一> [%]
***** TODO 游戏数据持久化及缓存设计
**** TODO 一致性啥希
**** TODO Lua源码分析
**** PROCESSING nginx源码解析 [50%]
	 - State "PROCESSING" from "TODO"       [2016-11-22 周二 21:40]
***** DONE nginx核心框架
	  CLOSED: [2016-12-05 周一 09:38]
	  - State "DONE"       from "TODO"       [2016-12-05 周一 09:38]

nginx采用分层模块化设计来组织所有部件，在运行configure脚本后，会在objs目录下生成一个文件ngx_modules.c。
该文件下的全局变量ngx_modules即记录了nginx运行时的所有模块：

#+begin_src c++
ngx_module_t *ngx_modules[] = {
    &ngx_core_module,
    &ngx_errlog_module,
    &ngx_conf_module,
    &ngx_regex_module,
    &ngx_events_module,
    &ngx_event_core_module,
    &ngx_epoll_module,
    &ngx_http_module,
    &ngx_http_core_module,
    &ngx_http_log_module,
    &ngx_http_upstream_module,
    &ngx_http_static_module,
    &ngx_http_autoindex_module,
    &ngx_http_index_module,
    &ngx_http_auth_basic_module,
    &ngx_http_access_module,
    &ngx_http_limit_conn_module,
    &ngx_http_limit_req_module,
    &ngx_http_geo_module,
    &ngx_http_map_module,
    &ngx_http_split_clients_module,
    &ngx_http_referer_module,
    &ngx_http_rewrite_module,
    &ngx_http_proxy_module,
    &ngx_http_fastcgi_module,
    &ngx_http_uwsgi_module,
    &ngx_http_scgi_module,
    &ngx_http_memcached_module,
    &ngx_http_empty_gif_module,
    &ngx_http_browser_module,
    &ngx_http_upstream_hash_module,
    &ngx_http_upstream_ip_hash_module,
    &ngx_http_upstream_least_conn_module,
    &ngx_http_upstream_keepalive_module,
    &ngx_http_upstream_zone_module,
    &ngx_http_write_filter_module,
    &ngx_http_header_filter_module,
    &ngx_http_chunked_filter_module,
    &ngx_http_range_header_filter_module,
    &ngx_http_gzip_filter_module,
    &ngx_http_postpone_filter_module,
    &ngx_http_ssi_filter_module,
    &ngx_http_charset_filter_module,
    &ngx_http_userid_filter_module,
    &ngx_http_headers_filter_module,
    &ngx_http_copy_filter_module,
    &ngx_http_range_body_filter_module,
    &ngx_http_not_modified_filter_module,
    NULL
};
#+end_src

ngx_modules是一个一维数组，它是如何来体现分层设计的呢？
我们来看下ngx_module_t的定义：

#+begin_src c++
struct ngx_module_s {
    ngx_uint_t            ctx_index;
    ngx_uint_t            index;

    char                 *name;

    ngx_uint_t            spare0;
    ngx_uint_t            spare1;

    ngx_uint_t            version;
    const char           *signature;

    void                 *ctx;
    ngx_command_t        *commands;
    ngx_uint_t            type;

    ngx_int_t           (*init_master)(ngx_log_t *log);

    ngx_int_t           (*init_module)(ngx_cycle_t *cycle);

    ngx_int_t           (*init_process)(ngx_cycle_t *cycle);
    ngx_int_t           (*init_thread)(ngx_cycle_t *cycle);
    void                (*exit_thread)(ngx_cycle_t *cycle);
    void                (*exit_process)(ngx_cycle_t *cycle);

    void                (*exit_master)(ngx_cycle_t *cycle);

    uintptr_t             spare_hook0;
    uintptr_t             spare_hook1;
    uintptr_t             spare_hook2;
    uintptr_t             spare_hook3;
    uintptr_t             spare_hook4;
    uintptr_t             spare_hook5;
    uintptr_t             spare_hook6;
    uintptr_t             spare_hook7;
};
typedef struct ngx_module_s      ngx_module_t;
#+end_src

ngx_module_t有一个type成员记录模块的类型，nginx预定义了如下几种类型：

#+begin_src c++
#define NGX_CORE_MODULE      0x45524F43  /* "CORE" */
#define NGX_CONF_MODULE      0x464E4F43  /* "CONF" */
#define NGX_EVENT_MODULE     0x544E5645  /* "EVNT" */
#define NGX_HTTP_MODULE      0x50545448  /* "HTTP" */
#define NGX_MAIL_MODULE      0x4C49414D  /* "MAIL" */
#+end_src

其中 NGX_CORE_MODULE 类型的模块为顶层模块，其他为二级模块。
顶层模块一般干两种事情：

  1. 负责核心事务
  2. 负责接入二级模块

***** TODO nginx事件模块
**** TODO [[http://linux.vbird.org/linux_basic/#part2][第二部分 Linux 文件、目录与磁盘格式]]
	 * [ ] Linux文件权限与目录配置
	 * [ ] Linux文件与目录管理
	 * [ ] Linux 磁盘与文件系统管理
	 * [ ] 文件的压缩与打包
**** TODO [[http://linux.vbird.org/linux_basic/#part3][第三部分：学习 Shell 与 Shell scripts]]
	 * [ ] vim程序编辑器
	 * [ ] 认识与学习 BASH
	 * [ ] 正规表示法与文件格式化处理
	 * [ ] 学习 shell scripts

**** TODO [[http://linux.vbird.org/linux_basic/#part4][第四部分：Linux 使用者管理]]
	 * [ ] Linux 账号管理与 ACL 权限控制
	 * [ ] 磁盘配额(Quota)与进阶文件系统管理
	 * [ ] 例行性工作排程 (crontab)
	 * [ ] 程序管理与 SELinux 初探

**** TODO [[http://linux.vbird.org/linux_basic/#part5][第五部分：Linux 系统管理员]]
	 * [ ] 认识系统服务(daemon)
	 * [ ] 认识与分析登录档
	 * [ ] 启动流程、模块管理与 loader
	 * [ ] 系统配置工具(网络与打印机)与硬件侦测
	 * [ ] 软件安装：原始码与 Tarball
	 * [ ] 软件安装：RPM, SRPM 与 YUM 功能
	 * [ ] X Window 配置介绍
	 * [ ] Linux 备份策略
	 * [ ] 核心编译

**** TODO [[http://linux.vbird.org/linux_server/#part1][第一部份：架站前的进修专区]]
**** TODO [[http://linux.vbird.org/linux_server/#part2][第二部分：主机的简易防火措施]]
**** TODO [[http://linux.vbird.org/linux_server/#part3][第三部分：局域网络内常见的服务器架设]]
**** TODO [[http://linux.vbird.org/linux_server/#part4][第四部分：常见因特网服务器架设]]
** Professional Skills

*** Lua

*** Nginx

*** Game Development

**** AI

** Summary

*** Be Skilled In

	* 擅长基于Unix平台的应用开发
	* 了解TCP/IP协议模型，及其工作原理
	* 熟悉中心拓扑结构的MMOG服务器架构

*** Work Exp

**** OG

***** 服务器架构

***** 技能

	  用状态模式来管理技能的释放流程。比如，我们可以抽象这么几种状态：正常状态、
	  蓄气状态、瞬发攻击状态、引导攻击状态。正常状态可以迁移到蓄气和两个攻击状
	  态；进入蓄气状态表示玩家释放蓄气技能，蓄气成功的话进入瞬发攻击状态；瞬发
	  攻击状态最常用，玩家大部分技能释放时都是进入该状态，对于非移动施法技能该
	  状态必须否决玩家的行走行为；引导攻击状态对应的玩家的读秒技能。

***** AI

****** 我们的解决方案

	   我们用事件/条件/行为规则来模拟怪物的一类条件发射，我们再将这样的规则用一
	   条决策封装起来。怪物有一组决策数组，在有事件发生的时候，通过轮训这个决策
	   数组就能模拟简单的怪物智能了。比如我们可以给“惹事怪”编辑这样一条决策：
	   当有玩家进入我的视野时，直接攻击；可以给“和平怪”编辑决策：当有玩家打我
	   时，逃跑。

***** 玩法

***** 微端模式支持

	  微端模式实际就是将本地文件放置网络读取。我们独立出一个 I/O 接口，游戏逻辑
	  中的所有 I/O 操作都通过该接口完成。该 I/O 接口支持异步模式，大端模式下，
	  调用本地 I/O 方法；微端模式下，调用网络 I/O 方法。

	  另外需要实现一个微端长连接服务器来管理所有的微端玩家。微端服务器的主要功能
	  有：推送资源地址；通过分析微端玩家的下载行为智能推送下载列表。

* Notes

** GAE(Google App Engine)

** Apache

*** Apache的配置文件http.conf参数含义详解

**** 基本配置

	 #+begin_src sh
       ServerRoot "/mnt/software/apache2" #你的apache软件安装的位置。其它指定的目录如果没有指定绝对路径，则目录是相对于该目录。
       PidFile logs/httpd.pid #第一个httpd进程(所有其他进程的父进程)的进程号文件位置。
       Listen 80 #服务器监听的端口号。
       ServerName www.clusting.com:80 #主站点名称（网站的主机名）。
       ServerAdmin admin@clusting.com #管理员的邮件地址。
       DocumentRoot "/mnt/web/clusting" #主站点的网页存储位置。
	 #+end_src

	 目录访问控制配置

	 #+begin_src html
       <Directory "D:/xampp/cgi-bin">
         Options FollowSymLinks
         AllowOverride None
         Order allow,deny
         Allow from all
       </Directory>
	 #+end_src

	 在上面这段目录属性配置中，主要有下面的选项：

	 1. Options：配置在特定目录使用哪些特性，常用的值和基本含义如下：

	    1. ExecCGI: 在该目录下允许执行CGI脚本。
		2. FollowSymLinks: 在该目录下允许文件系统使用符号连接。
		3. Indexes: 当用户访问该目录时，如果用户找不到DirectoryIndex指定的主页文件(例如index.html),则返回该目录下的文件列表给用户。
		4. SymLinksIfOwnerMatch: 当使用符号连接时，只有当符号连接的文件拥有者与实际文件的拥有者相同时才可以访问。

	    其它可用值和含义请参阅：http://www.clusting.com/Apache/ApacheManual/mod/core.html#options

	 2. AllowOverride：允许存在于.htaccess文件中的指令类型(.htaccess文件名是可以改变的，其文件名由AccessFileName指令决定)：

	    1. None: 当AllowOverride被设置为None时。不搜索该目录下的.htaccess文件（可以减小服务器开销）。
		2. All: 在.htaccess文件中可以使用所有的指令。

	    其他的可用值及含义(如：Options FileInfo AuthConfig Limit等)，请参看： http://www.clusting.com/Apache/ApacheManual/mod/core.html#AllowOverride

	 3. Order：控制在访问时Allow和Deny两个访问规则哪个优先：

		1. Allow：允许访问的主机列表(可用域名或子网，例如：Allow from 192.168.0.0/16)。
		2. Deny：拒绝访问的主机列表。

	    更详细的用法可参看：http://www.clusting.com/Apache/ApacheManual/mod/mod_access.html#order

	 #+begin_src sh
       DirectoryIndex index.html index.htm index.PHP #主页文件的设置（本例将主页文件设置为：index.html,index.htm和index.php）
	 #+end_src

**** 服务器的优化 (MPM: Multi-Processing Modules)

	 apache2主要的优势就是对多处理器的支持更好，在编译时同过使用–with-mpm选项来决定apache2的工作模式。如果知道当前的apache2使用什么工作机制，可以通过httpd -l命令列出apache的所有模块，就可以知道其工作方式：

	 * prefork：如果httpd -l列出prefork.c，则需要对下面的段进行配置：
	   1. StartServers 5 #启动apache时启动的httpd进程个数。
	   2. MinSpareServers 5 #服务器保持的最小空闲进程数。
	   3. MaxSpareServers 10 #服务器保持的最大空闲进程数。
	   4. MaxClients 150 #最大并发连接数。
	   5. MaxRequestsPerChild 1000 #每个子进程被请求服务多少次后被kill掉。0表示不限制，推荐设置为1000。
	   在该工作模式下，服务器启动后起动5个httpd进程(加父进程共6个，通过ps -ax|grep httpd命令可以看到)。当有用户连接时，apache会使用一个空闲进程为该连接服务，同时父进程会fork一个子进程。直到内存中的空闲进程达到 MaxSpareServers。该模式是为了兼容一些旧版本的程序。我缺省编译时的选项。

	 * worker：如果httpd -l列出worker.c，则需要对下面的段进行配置：
	   1. StartServers 2 #启动apache时启动的httpd进程个数。
	   2. MaxClients 150 #最大并发连接数。
	   3. MinSpareThreads 25 #服务器保持的最小空闲线程数。
	   4. MaxSpareThreads 75 #服务器保持的最大空闲线程数。
	   5. ThreadsPerChild 25 #每个子进程的产生的线程数。
	   6. MaxRequestsPerChild 0 #每个子进程被请求服务多少次后被kill掉。0表示不限制，推荐设置为1000。
	   该模式是由线程来监听客户的连接。当有新客户连接时，由其中的一个空闲线程接受连接。服务器在启动时启动两个进程，每个进程产生的线程数是固定的 (ThreadsPerChild决定)，因此启动时有50个线程。当50个线程不够用时，服务器自动fork一个进程，再产生25个线程。

	 * perchild：如果httpd -l列出perchild.c，则需要对下面的段进行配置：
	   1. NumServers 5 #服务器启动时启动的子进程数
	   2. StartThreads 5 #每个子进程启动时启动的线程数
	   3. MinSpareThreads 5 #内存中的最小空闲线程数
	   4. MaxSpareThreads 10 #最大空闲线程数
	   5. MaxThreadsPerChild 2000 #每个线程最多被请求多少次后退出。0不受限制。
	   6. MaxRequestsPerChild 10000 #每个子进程服务多少次后被重新fork。0表示不受限制。
	   该模式下，子进程的数量是固定的，线程数不受限制。当客户端连接到服务器时，又空闲的线程提供服务。 如果空闲线程数不够，子进程自动产生线程来为新的连接服务。该模式用于多站点服务器。
**** HTTP返回头信息配置
	 * ServerTokens Prod #该参数设置http头部返回的apache版本信息，可用的值和含义如下：
	   1. Prod：仅软件名称，例如：apache
	   2. Major：包括主版本号，例如：apache/2
	   3. Minor：包括次版本号，例如：apache/2.0
	   4. Min：仅apache的完整版本号，例如：apache/2.0.54
	   5. OS：包括操作系统类型，例如：apache/2.0.54（Unix）
	   6. Full：包括apache支持的模块及模块版本号，例如：Apache/2.0.54 (Unix) mod_ssl/2.0.54 OpenSSL/0.9.7g
	 * ServerSignature Off #在页面产生错误时是否出现服务器版本信息。推荐设置为Off
**** 持久性连接设置
	 * KeepAlive On #开启持久性连接功能。即当客户端连接到服务器，下载完数据后仍然保持连接状态。
	 * MaxKeepAliveRequests 100 #一个连接服务的最多请求次数。
	 * KeepAliveTimeout 30 #持续连接多长时间，该连接没有再请求数据，则断开该连接。缺省为15秒。
**** 别名设置
	 对于不在DocumentRoot指定的目录内的页面，既可以使用符号连接，也可以使用别名。别名的设置如下：
	 #+begin_src html
       Alias /download/ "/var/www/download/" #访问时可以输入:http://www.custing.com/download/
       #对该目录进行访问控制设置
       Options Indexes MultiViews
       AllowOverride AuthConfig
       Order allow,deny
       Allow from all
	 #+end_src
**** CGI设置
	 #+begin_src html
       scrīptAlias /cgi-bin/ "/mnt/software/apache2/cgi-bin/" # 访问时可以：http://www.clusting.com/cgi-bin/ 。但是该目录下的CGI脚本文件要加可执行权限！

       #设置目录属性
       AllowOverride None
       Options None
       Order allow,deny
       Allow from all
	 #+end_src
**** 日志的设置
	 * 错误日志的设置
	   #+begin_src sh
         ErrorLog logs/error_log #日志的保存位置
         LogLevel warn #日志的级别
	   #+end_src
	   显示的格式如下
	   #+begin_src html
         [Mon Oct 10 15:54:29 2005] [error] [client 192.168.10.22] access to /download/ failed, reason: user admin not allowed access
	   #+end_src
	 * 日志格式设置
	   日志的缺省格式有如下几种：
	   #+begin_src html
         LogFormat "%h %l %u %t "%r" %>s %b "%{Referer}i" "%{User-Agent}i"" combined
         LogFormat "%h %l %u %t "%r" %>s %b" common #common为日志格式名称
         LogFormat "%{Referer}i -> %U" referer
         LogFormat "%{User-agent}i" agent
         CustomLog logs/access_log common
	   #+end_src
	   格式中的各个参数如下：
	   #+begin_src html
         %h –客户端的ip地址或主机名
         %l –The 这是由客户端 identd 判断的RFC 1413身份，输出中的符号 "-" 表示此处信息无效。
         %u –由HTTP认证系统得到的访问该网页的客户名。有认证时才有效，输出中的符号 "-" 表示此处信息无效。
         %t –服务器完成对请求的处理时的时间。
         "%r" –引号中是客户发出的包含了许多有用信息的请求内容。
         %>s –这个是服务器返回给客户端的状态码。
         %b –最后这项是返回给客户端的不包括响应头的字节数。
         "%{Referer}i" –此项指明了该请求是从被哪个网页提交过来的。
         "%{User-Agent}i" –此项是客户浏览器提供的浏览器识别信息。
	   #+end_src
	   下面是一段访问日志的实例：
	   #+begin_src html
         192.168.10.22 – bearzhang [10/Oct/2005:16:53:06 +0800] "GET /download/ HTTP/1.1" 200 1228
         192.168.10.22 – - [10/Oct/2005:16:53:06 +0800] "GET /icons/blank.gif HTTP/1.1" 304 -
         192.168.10.22 – - [10/Oct/2005:16:53:06 +0800] "GET /icons/back.gif HTTP/1.1" 304 -
	   #+end_src
**** 虚拟主机的配置
	 * 基于IP地址的虚拟主机配置
	   #+begin_src html
         Listen 80

         DocumentRoot /www/example1
         ServerName www.example1.com

         DocumentRoot /www/example2
         ServerName www.example2.org
	   #+end_src
	 * 基于IP和多端口的虚拟主机配置
	   #+begin_src html
         Listen 172.20.30.40:80
         Listen 172.20.30.40:8080
         Listen 172.20.30.50:80
         Listen 172.20.30.50:8080

         DocumentRoot /www/example1-80
         ServerName www.example1.com

         DocumentRoot /www/example1-8080
         ServerName www.example1.com

         DocumentRoot /www/example2-80
         ServerName www.example1.org

         DocumentRoot /www/example2-8080
         ServerName www.example2.org
	   #+end_src
	 * 单个IP地址的服务器上基于域名的虚拟主机配置
	   #+begin_src html
         # Ensure that Apache listens on port 80
         Listen 80

         # Listen for virtual host requests on all IP addresses
         NameVirtualHost *:80

         DocumentRoot /www/example1
         ServerName www.example1.com
         ServerAlias example1.com. *.example1.com
         # Other directives here

         DocumentRoot /www/example2
         ServerName www.example2.org
         # Other directives here
	   #+end_src
	 * 在多个IP地址的服务器上配置基于域名的虚拟主机：
	   #+begin_src html
         Listen 80

         # This is the "main" server running on 172.20.30.40
         ServerName server.domain.com
         DocumentRoot /www/mainserver

         # This is the other address
         NameVirtualHost 172.20.30.50

         DocumentRoot /www/example1
         ServerName www.example1.com
         # Other directives here …

         DocumentRoot /www/example2
         ServerName www.example2.org
         # Other directives here …
	   #+end_src
	 * 在不同的端口上运行不同的站点(基于多端口的服务器上配置基于域名的虚拟主机)
	   #+begin_src html
         Listen 80
         Listen 8080

         NameVirtualHost 172.20.30.40:80
         NameVirtualHost 172.20.30.40:8080

         ServerName www.example1.com
         DocumentRoot /www/domain-80

         ServerName www.example1.com
         DocumentRoot /www/domain-8080

         ServerName www.example2.org
         DocumentRoot /www/otherdomain-80

         ServerName www.example2.org
         DocumentRoot /www/otherdomain-8080
	   #+end_src
	 * 基于域名和基于IP的混合虚拟主机的配置
	   #+begin_src html
         Listen 80

         NameVirtualHost 172.20.30.40

         DocumentRoot /www/example1
         ServerName www.example1.com

         DocumentRoot /www/example2
         ServerName www.example2.org

         DocumentRoot /www/example3
         ServerName www.example3.net
	   #+end_src
** Git																	:git:
*** Git分支
**** 分支查看
	 * 查看本地分支
	   #+BEGIN_SRC sh
         $ git branch
         * master
	   #+END_SRC
	 * 查看远程分支
	   #+BEGIN_SRC sh
         $ git branch -r
           kbengine/master
           origin/HEAD -> origin/master
           origin/master
	   #+END_SRC
	 * 查看所有分支
	   #+BEGIN_SRC sh
         $ git branch -a
         * master
           remotes/kbengine/master
           remotes/origin/HEAD -> origin/master
           remotes/origin/master
	   #+END_SRC
	 * 创建分支
	   #+BEGIN_SRC sh
         $ git branch <分支名>
	   #+END_SRC
	 * 删除本地分支
	   #+BEGIN_SRC sh
         $ git branch -d <分支名>
	   #+END_SRC
	 * 切换分支
	   #+BEGIN_SRC sh
         git checkout <分支名>
	   #+END_SRC
**** 分支合并
** Tools
*** VMware 虚拟机启动脚本
	#+begin_src sh
      start /min vmware.exe -x "F:\Virtual Machine\CentOS\CentOS.vmx"
      ping -n 10 127.0.0.1 >nul 2>nul
      taskkill /im vmware.exe /f
      exit
	#+end_src
* Articles
** MMOG
   * [[https://developer.valvesoftware.com/wiki/Main_Page][Source Engine]]

	 1. [ ] [[https://developer.valvesoftware.com/wiki/Latency_Compensating_Methods_in_Client/Server_In-game_Protocol_Design_and_Optimization][网络延时补偿]]
	 2. [ ] [[https://developer.valvesoftware.com/wiki/Lag_compensation][Lag compensation]]
	 3. [ ] [[https://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking][Source Multiplayer Networking]]
